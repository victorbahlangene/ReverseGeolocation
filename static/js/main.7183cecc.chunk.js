(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/ciuen.50b3923f.png"},,,function(e,t,a){e.exports=a(38)},,,,,,function(e,t,a){},,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),l=a.n(i),r=(a(20),a(22),a(10)),o=a(1),c=a(2),u=a(4),m=a(3),p=a(5),h=a(6),d=a(11),b=a.n(d),f=(a(24),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"App-header"},s.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"}),s.a.createElement("p",null,"Capstone ",s.a.createElement("b",null,"Geocoder")," APP"))}}]),t}(n.Component)),g=(a(26),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{id:"footer"},s.a.createElement("p",null,"Victor Bahlangene Web Design, Copyright \xa9 2019"))}}]),t}(n.Component)),E=(a(28),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isLocating:!1},a.handleGeoLocation=a.handleGeoLocation.bind(Object(h.a)(Object(h.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSubmit=e.onSubmit,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleGeoLocation",value:function(){var e=this,t=navigator.geolocation;new Promise(function(a,n){t||n(new Error("Not Supported")),e.setState({isLocating:!0}),t.getCurrentPosition(function(e){console.log("Location found"),a(e)},function(){console.log("Location : Permission denied"),n(new Error("Permission denied"))})}).then(function(t){e.setState({isLocating:!1}),e.props.onChange("query",t.coords.latitude+", "+t.coords.longitude)})}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;this.props.onChange(a,n)}},{key:"handleSubmit",value:function(e){console.log("Form was submitted with state: ",this.state),e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.apikey,a=e.isSubmitting,n=e.query,i=this.state.isLocating;return s.a.createElement("div",{className:"box form"},s.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"API key"),s.a.createElement("p",null,"(94904836a847430ba775392ea45b1871)"),s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-lock"})),s.a.createElement("input",{name:"apikey",className:"input",type:"text",placeholder:"YOUR-API-KEY",value:t,onChange:this.handleInputChange})),s.a.createElement("div",{className:"help"},"Your OpenCage Geocoder API Key (",s.a.createElement("a",{href:"https://opencagedata.com/users/sign_up"},"register"),").")),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Address or Coordinates"),s.a.createElement("div",{className:"control has-icons-left"},s.a.createElement("span",{className:"icon is-small is-left"},s.a.createElement("i",{className:"fas fa-map-marked-alt"})),s.a.createElement("input",{name:"query",className:"input",type:"text",placeholder:"location",value:n,onChange:this.handleInputChange}),s.a.createElement("div",{className:"help"},"Address, place name",s.a.createElement("br",null),"Coordinates as ",s.a.createElement("code",null,"latitude, longitude")," or"," ",s.a.createElement("code",null,"y, x"),"."))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Show my location"),s.a.createElement("div",{className:"control",onClick:this.handleGeoLocation},!i&&s.a.createElement("button",{className:"button is-static"},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-location-arrow"}))),i&&s.a.createElement("button",{className:"button is-static"},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:"fas fa-spinner fa-pulse"}))))),s.a.createElement("button",{className:"button is-success",onClick:this.handleSubmit,disabled:i||a},"Geocode")))}}]),t}(n.Component)),v=a(12),y=a.n(v),O=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.response.rate||{},t=this.props.response.results||[];return s.a.createElement("article",{className:"message"},s.a.createElement("div",{className:"message-body"},s.a.createElement("p",null,"Remaining ",e.remaining," out of ",e.limit," requests"),s.a.createElement("p",null,"\xa0"),s.a.createElement("ol",null,t.map(function(e,t){return s.a.createElement("li",{key:t},e.annotations.flag," ",e.formatted,s.a.createElement("br",null),s.a.createElement("code",null,e.geometry.lat," ",e.geometry.lng))}))))}}]),t}(n.Component),j=(a(30),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("article",{className:"message"},s.a.createElement("div",{className:"message-body"},s.a.createElement("pre",null,JSON.stringify(this.props.response,null,2))))}}]),t}(n.Component)),N=a(7),k=a.n(N),S=(a(32),a(34),k.a.icon({iconUrl:"marker-icon-red.png",iconSize:[25,41],iconAnchor:[12,40]})),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={map:null,layer:null,data:e.response.results},a.mapNode=null,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.map||this.initMap()}},{key:"componentWillUnmount",value:function(){this.state.map.remove()}},{key:"initMap",value:function(){if(!this.state.map){var e=k.a.map(this.mapNode,{center:[45,2],zoom:4});k.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e);for(var t=k.a.featureGroup().addTo(e),a=this.props.response.results,n=0;n<a.length;n++){k.a.marker(a[n].geometry,{icon:S}).addTo(t).bindPopup(n+1+" - "+a[n].formatted)}e.fitBounds(t.getBounds()),this.setState({map:e,layer:t})}}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{ref:function(t){return e.mapNode=t},id:"map",data:this.props.data})}}]),t}(n.Component),w=(a(36),"RESULT_TAB"),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={activeTab:w},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderTab",value:function(e,t,a,n){var i=this;return s.a.createElement("li",{className:y()({"is-active":n===t})},s.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),i.setState({activeTab:t})}},s.a.createElement("span",{className:"icon is-small"},s.a.createElement("i",{className:a,"aria-hidden":"true"})),s.a.createElement("span",null,e)))}},{key:"render",value:function(){var e=this.state.activeTab,t=this.props.response.results||[];return s.a.createElement("div",{className:"box results"},s.a.createElement("div",{className:"tabs is-boxed vh"},s.a.createElement("ul",null,this.renderTab("Results",w,"fas fa-list-ul",e),t.length>0&&this.renderTab("Map","MAP_TAB","fas fa-globe-americas",e),t.length>0&&this.renderTab("JSON Result","JSON_TAB","fab fa-js",e))),e===w&&t.length>0&&s.a.createElement(O,{response:this.props.response}),"JSON_TAB"===e&&t.length>0&&s.a.createElement(j,{response:this.props.response}),"MAP_TAB"===e&&t.length>0&&s.a.createElement(C,{response:this.props.response}))}}]),t}(n.Component),T=a(13),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={query:"",apikey:"",isSubmitting:!1,response:{}},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({isSubmitting:!0}),T.geocode({key:this.state.apikey,q:this.state.query}).then(function(e){console.log(e),t.setState({response:e,isSubmitting:!1})}).catch(function(e){console.error(e),t.setState({response:{},isSubmitting:!1})})}},{key:"handleChange",value:function(e,t){this.setState(Object(r.a)({},e,t))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(f,null),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column is-one-third-desktop"},s.a.createElement(E,{apikey:this.state.apikey,query:this.state.query,isSubmitting:this.state.isSubmitting,onSubmit:this.handleSubmit,onChange:this.handleChange})),s.a.createElement("div",{className:"column"},s.a.createElement(A,{response:this.state.response}))),s.a.createElement(g,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,2,1]]]);
//# sourceMappingURL=main.7183cecc.chunk.js.map